/* PinkLily Mermaid Theme (Scoped) */

/*
  The plugin injects 'mpp-theme-pinklily' class to the mermaid container.
  All styles here must be scoped to that class to avoid affecting other themes.
*/

.mpp-theme-pinklily {
  --mermaid-primary-color: #272b2b;
  --mermaid-secondary-color: #171b19;
  --mermaid-border-color: #11ff84;
  --mermaid-text-color: #fd9bcc;
  --mermaid-secondtext-color: #46d2e8;
  --mermaid-line-color: #ff0080;
  --mermaid-arrow-color: #ff0080;
  --mermaid-font-family: "Fira Code", "Shippori Mincho", monospace;
}

/* Global Generic Styles (Scoped to container or wrapper) */
/*
   Mermaid diagrams are replaced with div.mermaid-container.
   Original code blocks are pre code.
   We target the class on the container.
*/
.mpp-theme-pinklily code,
.mpp-theme-pinklily pre,
.mpp-theme-pinklily {
  color: #fd9bcc !important;
  background-color: #202020 !important;
}

/* Nodes */
.mpp-theme-pinklily .node rect,
.mpp-theme-pinklily .node circle,
.mpp-theme-pinklily .node ellipse,
.mpp-theme-pinklily .node polygon,
.mpp-theme-pinklily .node path,
.mpp-theme-pinklily g.node rect,
.mpp-theme-pinklily g.node circle,
.mpp-theme-pinklily g.node polygon {
  fill: var(--mermaid-primary-color) !important;
  stroke: var(--mermaid-border-color) !important;
  stroke-width: 2px !important;
}

/* Labels */
.mpp-theme-pinklily .node .label,
.mpp-theme-pinklily .nodeLabel,
.mpp-theme-pinklily .label {
  color: var(--mermaid-text-color) !important;
  fill: var(--mermaid-text-color) !important;
  font-family: var(--mermaid-font-family);
}
.mpp-theme-pinklily .node .label foreignObject div,
.mpp-theme-pinklily .nodeLabel foreignObject div,
.mpp-theme-pinklily .label foreignObject div,
.mpp-theme-pinklily span.nodeLabel {
  color: var(--mermaid-text-color) !important;
}

/* Edges */
.mpp-theme-pinklily .edgePath .path,
.mpp-theme-pinklily .flowchart-link {
  stroke: var(--mermaid-line-color) !important;
  stroke-width: 2px !important;
  fill: none !important;
}

/* Markers */
.mpp-theme-pinklily .marker,
.mpp-theme-pinklily marker path {
  fill: var(--mermaid-arrow-color) !important;
  stroke: var(--mermaid-arrow-color) !important;
}

/* Edge Labels */
.mpp-theme-pinklily .edgeLabel,
.mpp-theme-pinklily .edgeLabel rect {
  background-color: #000000 !important;
  fill: #000000 !important;
}

/* Sequence Actors */
.mpp-theme-pinklily g.actor,
.mpp-theme-pinklily rect.actor {
  fill: var(--mermaid-primary-color) !important;
  stroke: var(--mermaid-border-color) !important;
}
.mpp-theme-pinklily text.actor > tspan,
.mpp-theme-pinklily tspan {
  fill: var(--mermaid-text-color) !important;
}

/* Lines */
.mpp-theme-pinklily line {
  stroke: var(--mermaid-line-color) !important;
}

/* Message Text */
.mpp-theme-pinklily .messageText {
  fill: var(--mermaid-text-color) !important;
  stroke: none !important;
}

/* Notes */
.mpp-theme-pinklily .note {
  fill: #222 !important;
  stroke: var(--mermaid-border-color) !important;
}
.mpp-theme-pinklily .noteText {
  fill: #fff !important;
}

/* Loops */
.mpp-theme-pinklily .loopText,
.mpp-theme-pinklily .loopText > tspan {
  fill: #fff !important;
}
.mpp-theme-pinklily .loopLine {
  stroke: var(--mermaid-border-color) !important;
}

/* Class Diagram */
.mpp-theme-pinklily g.classGroup rect {
  fill: var(--mermaid-primary-color) !important;
  stroke: var(--mermaid-border-color) !important;
  stroke-width: 2px;
}
.mpp-theme-pinklily g.classGroup text {
  fill: var(--mermaid-text-color) !important;
}
.mpp-theme-pinklily g.classGroup line {
  stroke: var(--mermaid-border-color) !important;
}
.mpp-theme-pinklily .relation {
  stroke: var(--mermaid-line-color) !important;
  stroke-width: 2px;
  fill: none;
}

/* State Diagram */
.mpp-theme-pinklily .stateGroup rect,
.mpp-theme-pinklily .stateGroup circle {
  fill: var(--mermaid-primary-color) !important;
  stroke: var(--mermaid-border-color) !important;
}
.mpp-theme-pinklily .stateGroup text {
  fill: var(--mermaid-text-color) !important;
}
.mpp-theme-pinklily .transition {
  stroke: var(--mermaid-line-color) !important;
}

/* ER Diagram */
.mpp-theme-pinklily .entityBox {
  fill: var(--mermaid-primary-color) !important;
  stroke: var(--mermaid-border-color) !important;
}
.mpp-theme-pinklily .entityBox rect,
.mpp-theme-pinklily .er-entityBox rect {
  fill: var(--mermaid-primary-color) !important;
  stroke: var(--mermaid-border-color) !important;
}
.mpp-theme-pinklily .relationshipLine,
.mpp-theme-pinklily path.er.relationshipLine {
  stroke: var(--mermaid-line-color) !important;
}
